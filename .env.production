# DocuVault 生产环境配置
# 请根据实际部署环境修改以下配置

# 应用基础配置
NODE_ENV=production
APP_NAME=DocuVault
APP_VERSION=1.0.0
APP_URL=https://docuvault.com
FRONTEND_URL=https://docuvault.com
BACKEND_URL=https://api.docuvault.com

# 数据库配置
DB_HOST=postgres
DB_PORT=5432
DB_NAME=docuvault
DB_USER=docuvault
DB_PASSWORD=your_secure_database_password_here
DATABASE_URL=postgresql://docuvault:your_secure_database_password_here@postgres:5432/docuvault

# Redis配置
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://redis:6379

# JWT配置
JWT_SECRET=your_super_secure_jwt_secret_key_at_least_32_characters_long
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# 加密配置
ENCRYPTION_KEY=your_32_character_encryption_key_here
BCRYPT_ROUNDS=12

# 支付配置
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# 邮件服务配置
EMAIL_SERVICE=sendgrid
EMAIL_SERVICE_API_KEY=your_sendgrid_api_key
EMAIL_FROM=noreply@docuvault.com
EMAIL_FROM_NAME=DocuVault

# 文件上传配置
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,txt,md
UPLOAD_PATH=/app/uploads
CDN_URL=https://cdn.docuvault.com

# 安全配置
CORS_ORIGIN=https://docuvault.com
CORS_CREDENTIALS=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
SESSION_SECRET=your_session_secret_key_here
CSRF_SECRET=your_csrf_secret_key_here

# SSL/TLS配置
SSL_CERT_PATH=/etc/ssl/certs/docuvault.crt
SSL_KEY_PATH=/etc/ssl/private/docuvault.key
FORCE_HTTPS=true

# 监控配置
ENABLE_MONITORING=true
SENTRY_DSN=https://your_sentry_dsn_here
LOG_LEVEL=info
LOG_FORMAT=json

# 性能配置
ENABLE_COMPRESSION=true
ENABLE_CACHING=true
CACHE_TTL=3600
STATIC_CACHE_TTL=31536000

# 第三方服务配置
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
GOOGLE_RECAPTCHA_SITE_KEY=your_recaptcha_site_key
GOOGLE_RECAPTCHA_SECRET_KEY=your_recaptcha_secret_key

# 社交登录配置
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# 搜索服务配置
ELASTICSEARCH_URL=http://elasticsearch:9200
ELASTICSEARCH_INDEX=docuvault

# 消息队列配置
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672
QUEUE_NAME=docuvault_tasks

# 备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
S3_BACKUP_BUCKET=docuvault-backups
S3_ACCESS_KEY_ID=your_s3_access_key
S3_SECRET_ACCESS_KEY=your_s3_secret_key
S3_REGION=us-east-1

# 监控和告警配置
GRAFANA_PASSWORD=your_grafana_admin_password
PROMETHEUS_RETENTION=200h
ALERT_EMAIL=admin@docuvault.com
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook

# Docker配置
COMPOSE_PROJECT_NAME=docuvault
COMPOSE_PROFILES=monitoring

# 健康检查配置
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# 日志配置
LOG_MAX_SIZE=100m
LOG_MAX_FILES=10
LOG_COMPRESS=true

# 开发工具配置（生产环境应禁用）
ENABLE_SWAGGER=false
ENABLE_GRAPHQL_PLAYGROUND=false
ENABLE_DEBUG_ROUTES=false

# 特性开关
FEATURE_VIRTUAL_HIGHLIGHTS=true
FEATURE_REAL_TIME_COLLABORATION=false
FEATURE_AI_RECOMMENDATIONS=false
FEATURE_ADVANCED_ANALYTICS=true

# API限制配置
API_RATE_LIMIT_WINDOW=15
API_RATE_LIMIT_MAX=1000
API_TIMEOUT=30000

# 缓存配置
REDIS_CACHE_TTL=3600
MEMORY_CACHE_SIZE=100
FILE_CACHE_SIZE=1000

# 安全头部配置
HSTS_MAX_AGE=31536000
CSP_REPORT_URI=/api/csp-report
REFERRER_POLICY=strict-origin-when-cross-origin

# 数据库连接池配置
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_ACQUIRE_TIMEOUT=60000

# 会话配置
SESSION_TIMEOUT=1800000
SESSION_CLEANUP_INTERVAL=300000
MAX_CONCURRENT_SESSIONS=5

# 内容配置
MAX_ARTICLE_LENGTH=50000
MAX_NOTE_LENGTH=10000
MAX_HIGHLIGHT_LENGTH=1000
CONTENT_MODERATION=true

# 通知配置
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_PUSH_NOTIFICATIONS=false
NOTIFICATION_BATCH_SIZE=100

# 分析配置
ENABLE_USER_ANALYTICS=true
ANALYTICS_RETENTION_DAYS=365
ENABLE_PERFORMANCE_MONITORING=true

# 国际化配置
DEFAULT_LOCALE=zh-CN
SUPPORTED_LOCALES=zh-CN,en-US
TIMEZONE=Asia/Shanghai
