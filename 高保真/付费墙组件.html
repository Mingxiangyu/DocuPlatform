<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>付费墙组件 - DocuVault</title>
    <!-- 外部资源引入 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    
    <!-- Tailwind 配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gray: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a',
                        },
                        purple: {
                            50: '#faf5ff',
                            100: '#f3e8ff',
                            500: '#a855f7',
                            600: '#9333ea',
                            700: '#7c3aed',
                        },
                        amber: {
                            400: '#fbbf24',
                            500: '#f59e0b',
                        },
                        green: {
                            50: '#f0fdf4',
                            500: '#22c55e',
                            600: '#16a34a',
                        }
                    },
                    fontFamily: {
                        'serif': ['Crimson Text', 'Georgia', 'serif'],
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .btn-primary {
                @apply bg-purple-600 hover:bg-purple-700 text-white font-medium transition-all duration-300;
            }
            .btn-secondary {
                @apply bg-white border border-gray-300 hover:border-purple-300 hover:bg-purple-50 text-gray-700 hover:text-purple-600 font-medium transition-all duration-300;
            }
            .btn-purchase {
                @apply bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-bold text-lg px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300;
            }
        }
    </style>
    
    <!-- 自定义样式 -->
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'PingFang SC', sans-serif;
        }
        
        .journal-shadow {
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        
        .paywall-gradient {
            background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 50%, #faf5ff 100%);
        }
        
        .dashboard-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .value-highlight {
            background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .pulse-ring {
            animation: pulse-ring 2s infinite;
        }
        
        @keyframes pulse-ring {
            0% {
                transform: scale(0.33);
            }
            40%, 50% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: scale(1.2);
            }
        }
        
        .fade-in-up {
            animation: fadeInUp 0.8s ease-out;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .stats-counter {
            font-variant-numeric: tabular-nums;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-800 min-h-screen flex items-center justify-center p-4">
    <!-- 付费墙组件容器 -->
    <div class="w-full max-w-4xl" data-component="paywall-dashboard">
        <!-- 渐变背景容器 -->
        <div class="paywall-gradient rounded-2xl p-8 md:p-12 relative overflow-hidden">
            <!-- 背景装饰 -->
            <div class="absolute top-0 right-0 w-64 h-64 bg-purple-200 rounded-full opacity-20 transform translate-x-32 -translate-y-32"></div>
            <div class="absolute bottom-0 left-0 w-48 h-48 bg-purple-300 rounded-full opacity-15 transform -translate-x-24 translate-y-24"></div>
            
            <!-- 主要内容 -->
            <div class="relative z-10">
                <!-- 头部信息 -->
                <div class="text-center mb-8 fade-in-up">
                    <div class="inline-flex items-center px-4 py-2 bg-purple-100 text-purple-700 rounded-full text-sm font-medium mb-4">
                        <i class="fas fa-crown mr-2"></i>
                        高级内容
                    </div>
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-900 font-serif mb-4">
                        解锁完整内容
                    </h2>
                    <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                        这篇深度技术文章包含了实战案例、源码解析和最佳实践，帮助你快速掌握核心技能
                    </p>
                </div>

                <!-- 仪表盘式价值展示 -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <!-- 内容统计 -->
                    <div class="dashboard-card rounded-xl p-6 text-center fade-in-up" style="animation-delay: 0.1s">
                        <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-file-alt text-2xl text-purple-600"></i>
                        </div>
                        <div class="stats-counter text-2xl font-bold text-gray-900 mb-2">8,500</div>
                        <div class="text-sm text-gray-600">字数</div>
                        <div class="text-xs text-purple-600 mt-1">约 15 分钟阅读</div>
                    </div>

                    <!-- 学习价值 -->
                    <div class="dashboard-card rounded-xl p-6 text-center fade-in-up" style="animation-delay: 0.2s">
                        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-graduation-cap text-2xl text-green-600"></i>
                        </div>
                        <div class="stats-counter text-2xl font-bold text-gray-900 mb-2">12</div>
                        <div class="text-sm text-gray-600">核心知识点</div>
                        <div class="text-xs text-green-600 mt-1">实战案例丰富</div>
                    </div>

                    <!-- 社会证明 -->
                    <div class="dashboard-card rounded-xl p-6 text-center fade-in-up" style="animation-delay: 0.3s">
                        <div class="w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-users text-2xl text-amber-600"></i>
                        </div>
                        <div class="stats-counter text-2xl font-bold text-gray-900 mb-2">2,340</div>
                        <div class="text-sm text-gray-600">已购买</div>
                        <div class="text-xs text-amber-600 mt-1">98% 好评率</div>
                    </div>
                </div>

                <!-- 作者背书 -->
                <div class="dashboard-card rounded-xl p-6 mb-8 fade-in-up" style="animation-delay: 0.4s">
                    <div class="flex items-center space-x-4 mb-4">
                        <img class="w-16 h-16 rounded-full border-4 border-white shadow-lg" 
                             src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=128&h=128&fit=crop&crop=face" 
                             alt="作者头像">
                        <div>
                            <h3 class="text-lg font-bold text-gray-900">张三</h3>
                            <p class="text-sm text-gray-600">前端技术专家 · 10年经验</p>
                            <div class="flex items-center mt-1">
                                <div class="flex text-amber-400 text-sm">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <span class="text-xs text-gray-500 ml-2">4.9 分 (156 评价)</span>
                            </div>
                        </div>
                    </div>
                    <blockquote class="text-gray-700 italic">
                        "这篇文章凝聚了我多年的实战经验，从基础概念到高级应用，每个知识点都经过精心打磨。相信能帮助你在技术路上少走弯路。"
                    </blockquote>
                </div>

                <!-- 用户评价 -->
                <div class="dashboard-card rounded-xl p-6 mb-8 fade-in-up" style="animation-delay: 0.5s">
                    <h3 class="text-lg font-bold text-gray-900 mb-4 flex items-center">
                        <i class="fas fa-comments mr-2 text-purple-600"></i>
                        读者评价
                    </h3>
                    <div class="space-y-4">
                        <div class="flex items-start space-x-3">
                            <img class="w-8 h-8 rounded-full" 
                                 src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=64&h=64&fit=crop&crop=face" 
                                 alt="用户头像">
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-1">
                                    <span class="text-sm font-medium text-gray-900">李开发</span>
                                    <div class="flex text-amber-400 text-xs">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-600">"内容非常实用，代码示例清晰易懂，强烈推荐！"</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <img class="w-8 h-8 rounded-full" 
                                 src="https://images.unsplash.com/photo-1546961329-78bef0414d7c?w=64&h=64&fit=crop&crop=face" 
                                 alt="用户头像">
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-1">
                                    <span class="text-sm font-medium text-gray-900">王前端</span>
                                    <div class="flex text-amber-400 text-xs">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-600">"解决了我工作中的实际问题，物超所值！"</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 购买区域 -->
                <div class="text-center fade-in-up" style="animation-delay: 0.6s">
                    <div class="mb-6">
                        <div class="inline-flex items-center space-x-2 mb-2">
                            <span class="text-2xl text-gray-400 line-through">¥49.9</span>
                            <span class="bg-red-500 text-white text-xs px-2 py-1 rounded-full">限时优惠</span>
                        </div>
                        <div class="text-4xl font-bold value-highlight">¥29.9</div>
                        <p class="text-sm text-gray-600 mt-2">一次购买，永久阅读</p>
                    </div>

                    <!-- 购买按钮 -->
                    <button class="btn-purchase relative overflow-hidden group" id="purchase-btn" data-price="29.9">
                        <span class="relative z-10 flex items-center justify-center">
                            <i class="fas fa-unlock mr-2"></i>
                            ¥29.9 解锁全文
                        </span>
                        <div class="absolute inset-0 bg-gradient-to-r from-purple-700 to-purple-800 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"></div>
                    </button>

                    <!-- 安全提示 -->
                    <div class="flex items-center justify-center space-x-6 mt-6 text-sm text-gray-500">
                        <div class="flex items-center">
                            <i class="fas fa-shield-alt mr-1 text-green-500"></i>
                            安全支付
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-mobile-alt mr-1 text-blue-500"></i>
                            支持微信/支付宝
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-infinity mr-1 text-purple-500"></i>
                            永久阅读
                        </div>
                    </div>

                    <!-- 限时提示 -->
                    <div class="mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg">
                        <div class="flex items-center justify-center text-amber-700">
                            <i class="fas fa-clock mr-2"></i>
                            <span class="text-sm">限时优惠还剩：</span>
                            <span class="font-mono font-bold ml-1" id="countdown">23:59:45</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 倒计时功能
            function startCountdown() {
                const countdownElement = document.getElementById('countdown');
                let timeLeft = 24 * 60 * 60 - 15; // 23:59:45

                function updateCountdown() {
                    const hours = Math.floor(timeLeft / 3600);
                    const minutes = Math.floor((timeLeft % 3600) / 60);
                    const seconds = timeLeft % 60;

                    const formattedTime = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    countdownElement.textContent = formattedTime;

                    if (timeLeft > 0) {
                        timeLeft--;
                    } else {
                        timeLeft = 24 * 60 * 60; // 重置为24小时
                    }
                }

                updateCountdown();
                setInterval(updateCountdown, 1000);
            }

            // 数字动画效果
            function animateNumbers() {
                const counters = document.querySelectorAll('.stats-counter');

                counters.forEach(counter => {
                    const target = parseInt(counter.textContent.replace(/,/g, ''));
                    const duration = 2000; // 2秒动画
                    const step = target / (duration / 16); // 60fps
                    let current = 0;

                    const timer = setInterval(() => {
                        current += step;
                        if (current >= target) {
                            current = target;
                            clearInterval(timer);
                        }

                        // 格式化数字（添加千位分隔符）
                        const formattedNumber = Math.floor(current).toLocaleString();
                        counter.textContent = formattedNumber;
                    }, 16);
                });
            }

            // 购买按钮点击事件
            const purchaseBtn = document.getElementById('purchase-btn');
            purchaseBtn.addEventListener('click', function() {
                const price = this.dataset.price;

                // 添加点击动画
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);

                // 模拟购买流程
                this.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>处理中...';
                this.disabled = true;

                setTimeout(() => {
                    // 触发支付弹窗
                    window.open('支付弹窗.html', 'payment', 'width=600,height=700,scrollbars=yes,resizable=yes');

                    // 恢复按钮状态
                    this.innerHTML = '<span class="relative z-10 flex items-center justify-center"><i class="fas fa-unlock mr-2"></i>¥29.9 解锁全文</span>';
                    this.disabled = false;
                }, 1500);
            });

            // 添加悬停效果到卡片
            const dashboardCards = document.querySelectorAll('.dashboard-card');
            dashboardCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-5px)';
                    this.style.boxShadow = '0 10px 25px rgba(0, 0, 0, 0.15)';
                });

                card.addEventListener('mouseleave', function() {
                    this.style.transform = '';
                    this.style.boxShadow = '';
                });
            });

            // 添加脉冲效果到购买按钮
            function addPulseEffect() {
                const button = document.getElementById('purchase-btn');
                button.classList.add('pulse-ring');

                setTimeout(() => {
                    button.classList.remove('pulse-ring');
                }, 2000);
            }

            // 每5秒添加一次脉冲效果
            setInterval(addPulseEffect, 5000);

            // 滚动视差效果（如果在实际页面中使用）
            function handleScroll() {
                const scrolled = window.pageYOffset;
                const parallax = document.querySelector('.paywall-gradient');
                if (parallax) {
                    const speed = scrolled * 0.5;
                    parallax.style.transform = `translateY(${speed}px)`;
                }
            }

            // 如果在实际页面中，启用滚动效果
            if (window.parent !== window) {
                window.addEventListener('scroll', handleScroll);
            }

            // 初始化功能
            startCountdown();

            // 延迟启动数字动画，等待页面完全加载
            setTimeout(() => {
                animateNumbers();
            }, 500);

            // 添加键盘支持
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' || e.key === ' ') {
                    const focusedElement = document.activeElement;
                    if (focusedElement === purchaseBtn) {
                        e.preventDefault();
                        purchaseBtn.click();
                    }
                }
            });

            // 添加无障碍支持
            purchaseBtn.setAttribute('aria-label', '购买文章，价格29.9元');
            purchaseBtn.setAttribute('role', 'button');
            purchaseBtn.setAttribute('tabindex', '0');

            // 响应式字体大小调整
            function adjustFontSize() {
                const width = window.innerWidth;
                const title = document.querySelector('h2');

                if (width < 768) {
                    title.classList.remove('text-4xl');
                    title.classList.add('text-2xl');
                } else {
                    title.classList.remove('text-2xl');
                    title.classList.add('text-4xl');
                }
            }

            // 初始调整和窗口大小变化时调整
            adjustFontSize();
            window.addEventListener('resize', adjustFontSize);

            // 添加触摸设备支持
            if ('ontouchstart' in window) {
                purchaseBtn.addEventListener('touchstart', function() {
                    this.style.transform = 'scale(0.95)';
                });

                purchaseBtn.addEventListener('touchend', function() {
                    this.style.transform = '';
                });
            }
        });
    </script>
</body>
</html>
